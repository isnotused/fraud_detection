# 🚀 快速使用指南

## 启动系统

```bash
cd /Users/fuwei/fraud_detection
uv run streamlit run APP/head.py
```

浏览器自动打开：http://localhost:8502

## 操作步骤

### ✅ 第一步：生成数据（用户数据）

1. 点击左侧菜单 **【用户数据】**
2. 点击 **"🚀 生成模拟数据"** 按钮
3. 等待数据生成完成（约10-15秒）
4. 浏览四个数据视图：
   - ✅ 金融消费交易数据
   - ✅ 多维用户行为数据  
   - ✅ 用户行为交互网络
   - ✅ 行为一致性分析

### ✅ 第二步：风险分析（风险分析评估）

1. 点击左侧菜单 **【风险分析评估】**
2. 点击 **"🔬 开始风险分析"** 按钮
3. 等待分析完成（约15-20秒）
4. 查看四个分析结果：
   - 🎯 **欺诈检测结果**：查看每个时间窗口的欺诈标记（🔴高风险/🟡中风险/🟢低风险）
   - 📊 **异常特征分布**：热力图显示异常特征
   - 📈 **风险值趋势**：动态欺诈风险值变化曲线
   - 💰 **交易类型分析**：不同交易类型的欺诈关联

### ✅ 第三步：模型训练（模型更新）

1. 点击左侧菜单 **【模型更新】**
2. 点击 **"🚀 训练/更新模型"** 按钮
3. 查看训练结果：
   - 当前准确率
   - 📈 模型检测准确率变化图
   - 📋 训练历史记录

💡 可以多次点击训练按钮，观察模型性能提升

### ✅ 第四步：系统管理（可选）

1. 点击左侧菜单 **【系统管理】**
2. 查看四个标签页：
   - 📊 **数据管理**：查看数据集统计信息
   - 🔧 **模型配置**：调整模型参数（n_estimators, max_depth等）
   - 📈 **系统监控**：查看系统运行状态和性能指标
   - 📝 **日志管理**：查看操作日志

## 核心功能说明

### 📊 欺诈检测结果

系统会为每个时间窗口标记风险等级：

- 🔴 **高风险-欺诈**：风险值 > 0.7（需要立即处理）
- 🟡 **中风险-疑似**：0.5 < 风险值 ≤ 0.7（需要关注）
- 🟢 **低风险-正常**：风险值 ≤ 0.5（正常交易）

### 📈 可视化图表

所有图表都是**交互式**的：
- 🖱️ 鼠标悬停查看详细数据
- 🔍 支持缩放和平移
- 💾 可导出为PNG图片

### 🔄 数据刷新

如需重新开始：
- 在【用户数据】页面点击 **"🔄 重新生成数据"**
- 在【风险分析评估】页面点击 **"🔄 重新分析"**

## 注意事项

⚠️ **重要**：必须按顺序执行：
1. 先生成数据
2. 再进行风险分析
3. 最后训练模型

⚠️ 如果跳过步骤，系统会显示提示信息

## 技术特点

### 🎯 智能检测
- 多维度异常特征识别
- 时序偏移量分析
- 行为一致性评估
- 动态风险值计算

### 🤖 自适应学习
- RandomForest机器学习模型
- 基于风险值动态调整参数
- 持续从新数据中学习

### 📊 美观可视化
- Plotly交互式图表
- 统一的配色方案
- 清晰的数据展示

## 示例数据说明

### 默认配置
- **用户数**：100
- **天数**：7天
- **每天交易数**：500笔
- **总交易数**：约3500笔
- **欺诈率**：约1%
- **时间窗口**：6小时

### 数据特征
- 交易类型：消费、转账、提现、还款、充值
- 交易地点：10个主要城市
- 用户年龄：18-65岁
- 信用分：300-850

## 常见问题

**Q: 为什么准确率不是100%？**
A: 这是正常的。欺诈检测是一个复杂的问题，系统使用机器学习模型，准确率通常在80%-95%之间。

**Q: 如何提高检测准确率？**
A: 
1. 多次训练模型
2. 在【系统管理】中调整模型参数
3. 增加训练数据量

**Q: 图表显示空白？**
A: 确保已按顺序完成数据生成和风险分析步骤。

**Q: 可以使用真实数据吗？**
A: 当前版本使用模拟数据。如需使用真实数据，需要修改数据导入逻辑。

## 性能优化建议

- 💡 如果处理速度慢，可以减少用户数和交易数
- 💡 建议在现代浏览器（Chrome/Edge）中使用
- 💡 关闭不需要的浏览器标签页以释放内存

## 系统要求

- Python 3.12+
- 8GB+ RAM推荐
- 现代网络浏览器

---

**祝您使用愉快！** 🎉

如有问题，请参考完整文档：`系统使用说明.md`
